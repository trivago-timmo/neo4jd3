'use strict';

var conf = require('./conf'),
    connect = require('gulp-connect'),
    gulp = require('gulp'),
    runSequence = require('gulp4-run-sequence');

gulp.task('node_modules', function(done) {
    runSequence('node_modules:fonts', 'node_modules:images', 'node_modules:styles', done);
});

gulp.task('node_modules:fonts', function(done) {
    gulp.src([
            'node_modules/font-awesome/fonts/*.*'
        ])
        .pipe(gulp.dest(conf.paths.docs + '/fonts'))
        .pipe(connect.reload());

    done();
});

gulp.task('node_modules:images', function(done) {
    runSequence('node_modules:images_twemoji', done);
});

gulp.task('node_modules:images_twemoji', function(done) {
    gulp.src([
            'node_modules/twemoji/2/svg/*.*'
        ])
        .pipe(gulp.dest(conf.paths.docs + '/img/twemoji'))
        .pipe(connect.reload());

    done();
});

gulp.task('node_modules:styles', function(done) {
    gulp.src([
            'node_modules/font-awesome/css/font-awesome.min.css'
        ])
        .pipe(gulp.dest(conf.paths.docs + '/css'))
        .pipe(connect.reload());

    done();
});
